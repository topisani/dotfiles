#!/bin/bash

# Generate flatblue theme.

alpha() {
  echo -n "$1" | sed "s/rgb:\\(.*\\)/rgba:\\1$2/"
}

echo "
# Markdown highlighting
face global title                       $green,            $bg       +b
face global header                      $blue,           $bg       +b
face global bold                        $fg,               $bg       +b
face global italic                      $fg3,              $bg       +i
face global mono                        $fg3,              $bg
face global block                       $fg2,               $bg
face global link                        $blue,               $bg
face global bullet                      $purple,               $bg
face global list                        $purple,               $bg

face global Reference                   $fg,               $bg       +b
face global Default                     $fg,               $bg
face global PrimarySelection            default,           $(alpha $blue_light 80)
face global SecondarySelection          default,           $(alpha $blue 40)
face global PrimaryCursor               $bg0,              $(alpha $bluish_fg e0)
face global SecondaryCursor             $bg0,              $(alpha $bluish_fg 80)
face global PrimaryCursorEol            $bg0,              $fg0      +f
face global SecondaryCursorEol          $bg3,              $fg3      +f
face global LineNumbers                 $bg4,              default
face global LineNumberCursor            $fg3,              $bg1
face global LineNumbersWrapped          $bg,               default
face global MenuForeground              $bg2,              $blue
face global MenuBackground              $fg,               $bg2
face global MenuInfo                    $blue_light,       $bg2
face global Error                       $red,              default
face global StatusLine                  $fg,               default
face global StatusLineMode              $yellow,           default       +b
face global StatusLineInfo              $purple,           default
face global StatusLineValue             $red,              default
face global StatusCursor                $bg,               $fg
face global Prompt                      $yellow,           default
face global MatchingChar                                                '+b'
face global BufferPadding               $bg2,              default
face global Whitespace                  $bg1,              default      +f
face global Information                 $fg,               $(alpha $blue_dark 50)@Default

face global GitBlame                    $fg2,              default

# Code highlighting
face global value                       $purple,           default
face global type                        $blue_light,       default
face global variable                    $aqua_dark,        default
face global module                      $orange,           default
face global function                    $yellow_light,     default
face global string                      $green,            default
face global documentation               $green,            default
face global keyword                     $red,              default
face global operator                    $fg,               default
face global attribute                   $red,              default
face global meta                        $orange,           default
face global builtin                     $red_dark,         default
face global comment                     $gray,             default       +i
face global identifier                  $yellow_dark,      default
face global annotation                  $gray,             default

face global DiagnosticWarning           default, default,  $yellow       +ca
face global DiagnosticError             default, default,  $red          +ca
face global DiagnosticInfo              default, default,  $green        +ca
face global DiagnosticHint              default, default,  $gray         +ca
face global LineFlagError               $red,              default       +b
face global LineFlagWarning             $yellow,           default       +b
face global LineFlagInfo                $green,            default       +b
face global LineFlagHint                $gray,             default       +b

face global Reference                                                    '+b'
face global ReferenceBind                                                '+bu'

# Plugs
face global Phantom                     $bg,               $green_dark
face global Search                      $fg,               $bg3
face global PrimarySelectionDefault     $fg,               $blue
face global PrimarySelectionSearch      $fg,               $blue
face global SearchBackground            $gray,              default
face global SearchOccurrence            $fg,               default      +ib

face global SnippetsOtherPlaceholders   default, $(alpha $green 20)
face global SnippetsNextPlaceholders    default, $(alpha $green 40)

# kakoune-focus
face global FocusMarker                 $bg3,                           +fa

# Lsp
face global InlayHint     $blue_dark+iF

face global memberFunction '+i@function'
face global cppConcept     '+i@type'
face global memberVariable '+i@variable'
face global cppMacro       $purple_light,  default
face global cppDependent   $aqua,  default
face global disabledRegion $gray,          default

# LSP Info box
face global InfoDefault               Information
face global InfoBlock                 InfoDefault
face global InfoBlockQuote            ,+i@InfoDefault
face global InfoBullet                InfoDefault
face global InfoHeader                ,+b@InfoDefault
face global InfoLink                  ,+i@InfoDefault
face global InfoLinkMono              InfoDefault
face global InfoMono                  $gray@InfoDefault
face global InfoRule                  $gray@InfoDefault
face global InfoDiagnosticError       $red@InfoDefault
face global InfoDiagnosticHint        $gray@InfoDefault
face global InfoDiagnosticInformation $green@InfoDefault
face global InfoDiagnosticWarning     $yellow@InfoDefault

face global InlayDiagnosticWarning           $yellow       +dF
face global InlayDiagnosticError             $red          +dF
face global InlayDiagnosticInfo              $green        +dF
face global InlayDiagnosticHint              $gray         +dF

decl str lsp_diagnostic_line_error_sign
decl str lsp_diagnostic_line_warning_sign
decl str lsp_diagnostic_line_info_sign
decl str lsp_diagnostic_line_hint_sign
set global lsp_diagnostic_line_error_sign '●'
set global lsp_diagnostic_line_warning_sign '●'
set global lsp_diagnostic_line_info_sign '●'
set global lsp_diagnostic_line_hint_sign '●'
# set global lsp_diagnostic_line_error_sign ' '
# set global lsp_diagnostic_line_warning_sign ' '
# set global lsp_diagnostic_line_info_sign ' '
# set global lsp_diagnostic_line_hint_sign ' '

" | sed 's/, */,/g;s/ *+/+/'
