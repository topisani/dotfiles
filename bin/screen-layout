#! /bin/bash

_layout_office() {
  echo "'Dell Inc. DELL U2719D 7NRBS83' 0 0 90"
  echo "'Dell Inc. DELL U2719D CNRBS83' 1440 0"
  echo "eDP-1 1440 1440"
}

_layout_office_dual_vert() {
  echo "'Dell Inc. DELL U2719D 7NRBS83' 0 0 270"
  echo "'Dell Inc. DELL U2719D CNRBS83' 1440 0 90"
  echo "eDP-1 320 2560"
}

_layout_office_dual_vert_only() {
  echo "'Dell Inc. DELL U2719D 7NRBS83' 0 0 270"
  echo "'Dell Inc. DELL U2719D CNRBS83' 1440 0 90"
}

_layout_single() {
  echo "eDP-1 0 0"
}

_apply_sway() {
  swaymsg "output * disable"
  "_layout_$1" | while IFS="" read line; do
    declare -a "arr=($line)"
    name=${arr[0]}
    x=${arr[1]}
    y=${arr[2]}
    trans=${arr[3]:-normal}
    swaymsg "output '$name' enable pos $x $y transform $trans"
  done
}

# Run

method=sway
layout=${1:-single}

"_apply_$method" $layout
